class htmlElement{constructor(t){this.element=t}copy(){return this.element.clone()}remove(){this.element.remove()}append(t){this.element.append(t)}}class tetragon3d extends htmlElement{constructor(t,e){super(t),this.rotationSpeed=e>1?1:e,this.planes=this.element.children("div"),this.timeData={then:void 0,now:void 0},this.motionData={currentAngle:0,targetAngle:void 0,speed:void 0,move:!0,measureAngle:void 0}}animateRotationY(){this.motionData.move&&(this.motionData.currentAngle=this.motionData.currentAngle<=-360?0:this.motionData.currentAngle,this.motionData.speed=this.computeRotatingTime(),this.motionData.currentAngle-=this.rotationSpeed,this.element.css("transform",` translateZ(-250px) rotateY(${this.motionData.currentAngle}deg)`),Math.ceil(this.motionData.currentAngle)===this.motionData.targetAngle&&(this.motionData.move=!1),window.requestAnimationFrame(()=>this.animateRotationY()))}computeTransitionSpeed(){return(Math.abs(this.motionData.targetAngle)-Math.abs(this.motionData.currentAngle))/45*this.motionData.speed}computeRotatingTime(){let t=Math.abs(Math.floor(this.motionData.currentAngle)),e=!(t%30);t===this.motionData.measureAngle&&(this.timeData.now=new Date),e&&(console.log("aaa",t),this.motionData.measureAngle=t+30,this.timeData.then=new Date)}getTargetAngle(t){switch($(t.target).attr("id")){case"front":this.motionData.targetAngle=0;break;case"right":this.motionData.targetAngle=-90;break;case"back":this.motionData.targetAngle=-180;break;case"left":this.motionData.targetAngle=-270}}shouldChangeDirection(){this.motionData.currentAngle<this.motionData.targetAngle&&(this.rotationSpeed=-this.rotationSpeed),console.log(this.motionData.currentAngle<this.motionData.targetAngle)}planeClickEvent(t){t?this.planes.on("click",t=>{this.getTargetAngle(t);this.computeTransitionSpeed();this.shouldChangeDirection()}):this.planes.off()}}$(()=>{let t=new tetragon3d($("#top-layer"),.6);t.animateRotationY(),t.planeClickEvent(!0),Math.easeOutQuad=function(t,e,a,n){return-a*(t/=n)*(t-2)+e};Math.easeOutQuad(.6,54,36,.4)});
//# sourceMappingURL=main.js.map
